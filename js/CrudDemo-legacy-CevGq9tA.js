!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function a(e,a,r){var o;return o=function(e,a){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,a||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"),(a="symbol"==t(o)?o:o+"")in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}System.register(["./primevue2-legacy-CstrOyJM.js","./ProductService-legacy-e3CmPxqN.js","./app.component-legacy-BIUfPD9B.js","./whatwg-fetch-legacy-CCzU3kzf.js","./resize-observer-polyfill-legacy-0iJwNYH9.js","./app.core-legacy-4IoIb6Gd.js","./@nangongpo-legacy-DNMPug1-.js","./prismjs-legacy-hFI0QxJU.js"],(function(t,r){"use strict";var o,i,s,c,n,l,d,u,p,f,b,m,g;return{setters:[function(t){o=t.c,i=t.F,s=t.a7,c=t.i,n=t.f,l=t.j,d=t.q,u=t.O,p=t.l,f=t.a,b=t.o},function(t){m=t.P},function(t){g=t.n},null,null,null,null,null],execute:function(){var r=document.createElement("style");r.textContent='@charset "UTF-8";.table-header[data-v-24081793]{display:flex;align-items:center;justify-content:space-between}.product-image[data-v-24081793]{width:100px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.p-dialog .product-image[data-v-24081793]{width:150px;margin:0 auto 2rem;display:block}.confirmation-content[data-v-24081793]{display:flex;align-items:center;justify-content:center}.product-badge[data-v-24081793]{border-radius:2px;padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.3px}.product-badge.status-有现货[data-v-24081793]{background:#c8e6c9;color:#256029}.product-badge.status-缺货[data-v-24081793]{background:#ffcdd2;color:#c63737}.product-badge.status-lowstock[data-v-24081793]{background:#feedaf;color:#8a5340}@media screen and (max-width: 960px){[data-v-24081793] .p-datatable.p-datatable-customers .p-datatable-thead>tr>th,[data-v-24081793] .p-datatable.p-datatable-customers .p-datatable-tfoot>tr>td{display:none!important}[data-v-24081793] .p-datatable.p-datatable-customers .p-datatable-tbody>tr{border-bottom:1px solid var(--surface-d)}[data-v-24081793] .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{text-align:left;display:block;border:0 none!important;width:100%!important;float:left;clear:left;border:0 none}[data-v-24081793] .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}[data-v-24081793] .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td .p-progressbar{margin-top:.5rem}[data-v-24081793] .p-toolbar{flex-wrap:wrap}[data-v-24081793] .p-toolbar .p-button{margin-bottom:.25rem}}\n',document.head.appendChild(r);var y={data:function(){return{products:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},submitted:!1}},productService:null,created:function(){this.productService=new m},mounted:function(){var t=this;this.productService.getProducts().then((function(e){return t.products=e}))},methods:{formatCurrency:function(t){return t.toLocaleString("en-US",{style:"currency",currency:"USD"})},openNew:function(){this.product={},this.submitted=!1,this.productDialog=!0},hideDialog:function(){this.productDialog=!1,this.submitted=!1},saveProduct:function(){this.submitted=!0,this.product.name.trim()&&(this.product.id?(this.$set(this.products,this.findIndexById(this.product.id),this.product),this.$toast.add({severity:"success",summary:"提示",detail:"更新成功",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus="INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"提示",detail:"新建成功",life:3e3})),this.productDialog=!1,this.product={})},editProduct:function(t){this.product=function(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?e(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},t),this.productDialog=!0},confirmDeleteProduct:function(t){this.product=t,this.deleteProductDialog=!0},deleteProduct:function(){var t=this;this.products=this.products.filter((function(e){return e.id!==t.product.id})),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"提示",detail:"删除成功",life:3e3})},findIndexById:function(t){for(var e=-1,a=0;a<this.products.length;a++)if(this.products[a].id===t){e=a;break}return e},createId:function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)t+=e.charAt(Math.floor(62*Math.random()));return t},exportCSV:function(){this.$refs.dt.exportCSV()},confirmDeleteSelected:function(){this.deleteProductsDialog=!0},deleteSelectedProducts:function(){var t=this;this.products=this.products.filter((function(e){return!t.selectedProducts.includes(e)})),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"提示",detail:"删除成功",life:3e3})}}};t("default",g(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"grid crud-demo"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e(o),e(i,{staticClass:"mb-4",scopedSlots:t._u([{key:"start",fn:function(){return[e("Button",{staticClass:"p-button-success mr-2",attrs:{label:"新建",icon:"pi pi-plus"},on:{click:t.openNew}}),e("Button",{staticClass:"p-button-danger",attrs:{label:"删除",icon:"pi pi-trash",disabled:!t.selectedProducts||!t.selectedProducts.length},on:{click:t.confirmDeleteSelected}})]},proxy:!0},{key:"end",fn:function(){return[e(s,{staticClass:"mr-2 p-d-inline-block",attrs:{mode:"basic",accept:"image/*","max-file-size":1e6,"choose-label":"导入"}}),e("Button",{staticClass:"p-button-help",attrs:{label:"导出",icon:"pi pi-upload"},on:{click:function(e){return t.exportCSV(e)}}})]},proxy:!0}])}),e(c,{ref:"dt",staticClass:"p-datatable-customers",attrs:{selection:t.selectedProducts,value:t.products,"data-key":"id","row-hover":!0,paginator:!0,rows:10,filters:t.filters,"paginator-template":" FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink    RowsPerPageDropdown  CurrentPageReport","rows-per-page-options":[5,10,25],"current-page-report-template":" 显示第 {first} 到第 {last} 条记录，总共 {totalRecords} 条记录 "},on:{"update:selection":function(e){t.selectedProducts=e}},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"table-header"},[e("h5",{staticClass:"p-m-0"},[t._v(" 产品列表 ")]),e("span",{staticClass:"p-input-icon-left"},[e("i",{staticClass:"pi pi-search"}),e(n,{attrs:{placeholder:"检索..."},model:{value:t.filters.global,callback:function(e){t.$set(t.filters,"global",e)},expression:"filters['global']"}})],1)])]},proxy:!0}])},[e(l,{attrs:{"selection-mode":"multiple","header-style":"width: 3rem"}}),e(l,{attrs:{field:"code",header:"编码",sortable:""}}),e(l,{attrs:{field:"name",header:"名称",sortable:""}}),e(l,{attrs:{header:"图片"},scopedSlots:t._u([{key:"body",fn:function(a){return[e("img",{staticClass:"product-image",attrs:{src:t.$publicUrl("resource/demo/images/product/"+a.data.image),alt:a.data.image}})]}}])}),e(l,{attrs:{field:"price",header:"价格",sortable:""},scopedSlots:t._u([{key:"body",fn:function(e){return[t._v(" "+t._s(t.formatCurrency(e.data.price))+" ")]}}])}),e(l,{attrs:{field:"category",header:"类别",sortable:""}}),e(l,{attrs:{field:"rating",header:"评分",sortable:""},scopedSlots:t._u([{key:"body",fn:function(t){return[e(d,{attrs:{value:t.data.rating,readonly:!0,cancel:!1}})]}}])}),e(l,{attrs:{field:"inventoryStatus",header:"状态",sortable:""},scopedSlots:t._u([{key:"body",fn:function(a){return[e("span",{class:"product-badge status-"+a.data.inventoryStatus.toLowerCase()},[t._v(t._s(a.data.inventoryStatus))])]}}])}),e(l,{scopedSlots:t._u([{key:"body",fn:function(a){return[e("Button",{staticClass:"p-button-rounded p-button-success mr-2",attrs:{icon:"pi pi-pencil"},on:{click:function(e){return t.editProduct(a.data)}}}),e("Button",{staticClass:"p-button-rounded p-button-warning",attrs:{icon:"pi pi-trash"},on:{click:function(e){return t.confirmDeleteProduct(a.data)}}})]}}])})],1),e(u,{staticClass:"p-fluid",style:{width:"450px"},attrs:{"visible.sync":"productDialog",header:"产品详情",modal:!0},scopedSlots:t._u([{key:"footer",fn:function(){return[e("Button",{staticClass:"p-button-text",attrs:{label:"取消",icon:"pi pi-times"},on:{click:t.hideDialog}}),e("Button",{staticClass:"p-button-text",attrs:{label:"保存",icon:"pi pi-check"},on:{click:t.saveProduct}})]},proxy:!0}])},[t.product.image?e("img",{staticClass:"product-image",attrs:{src:t.$publicUrl("resource/demo/images/product/"+t.product.image),alt:t.product.image}}):t._e(),e("div",{staticClass:"field"},[e("label",{attrs:{for:"name"}},[t._v("名称")]),e(n,{class:{"p-invalid":t.submitted&&!t.product.name},attrs:{id:"name",required:"true",autofocus:""},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name","string"==typeof e?e.trim():e)},expression:"product.name"}}),t.submitted&&!t.product.name?e("small",{staticClass:"p-invalid"},[t._v("名称是必须的。")]):t._e()],1),e("div",{staticClass:"field"},[e("label",{attrs:{for:"description"}},[t._v("描述")]),e(p,{attrs:{id:"description",required:"true",rows:"3",cols:"20"},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1),e("div",{staticClass:"field"},[e("label",{staticClass:"mb-3"},[t._v("分类")]),e("div",{staticClass:"formgrid grid"},[e("div",{staticClass:"field-radiobutton col-6"},[e(f,{attrs:{id:"category1",name:"category"},model:{value:t.product.category,callback:function(e){t.$set(t.product,"category",e)},expression:"product.category"}}),e("label",{attrs:{for:"category1"}},[t._v("穿戴配饰")])],1),e("div",{staticClass:"field-radiobutton col-6"},[e(f,{attrs:{id:"category2",name:"category"},model:{value:t.product.category,callback:function(e){t.$set(t.product,"category",e)},expression:"product.category"}}),e("label",{attrs:{for:"category2"}},[t._v("服装")])],1),e("div",{staticClass:"field-radiobutton col-6"},[e(f,{attrs:{id:"category3",name:"category"},model:{value:t.product.category,callback:function(e){t.$set(t.product,"category",e)},expression:"product.category"}}),e("label",{attrs:{for:"category3"}},[t._v("电子产品")])],1),e("div",{staticClass:"field-radiobutton col-6"},[e(f,{attrs:{id:"category4",name:"category"},model:{value:t.product.category,callback:function(e){t.$set(t.product,"category",e)},expression:"product.category"}}),e("label",{attrs:{for:"category4"}},[t._v("小饰品")])],1)])]),e("div",{staticClass:"formgrid grid"},[e("div",{staticClass:"field col"},[e("label",{attrs:{for:"price"}},[t._v("价格")]),e(b,{attrs:{id:"price",mode:"currency",currency:"USD",locale:"en-US"},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1),e("div",{staticClass:"field col"},[e("label",{attrs:{for:"quantity"}},[t._v("数量")]),e(b,{attrs:{id:"quantity",integeronly:""},model:{value:t.product.quantity,callback:function(e){t.$set(t.product,"quantity",e)},expression:"product.quantity"}})],1)])]),e(u,{style:{width:"450px"},attrs:{visible:t.deleteProductDialog,header:"确认",modal:!0},on:{"update:visible":function(e){t.deleteProductDialog=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("Button",{staticClass:"p-button-text",attrs:{label:"否",icon:"pi pi-times"},on:{click:function(e){t.deleteProductDialog=!1}}}),e("Button",{staticClass:"p-button-text",attrs:{label:"是",icon:"pi pi-check"},on:{click:t.deleteProduct}})]},proxy:!0}])},[e("div",{staticClass:"confirmation-content"},[e("i",{staticClass:"pi pi-exclamation-triangle mr-3",staticStyle:{"font-size":"2rem"}}),t.product?e("span",[t._v("确认删除 "),e("b",[t._v(t._s(t.product.name))]),t._v("?")]):t._e()])]),e(u,{style:{width:"450px"},attrs:{visible:t.deleteProductsDialog,header:"确认",modal:!0},on:{"update:visible":function(e){t.deleteProductsDialog=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("Button",{staticClass:"p-button-text",attrs:{label:"否",icon:"pi pi-times"},on:{click:function(e){t.deleteProductsDialog=!1}}}),e("Button",{staticClass:"p-button-text",attrs:{label:"是",icon:"pi pi-check"},on:{click:t.deleteSelectedProducts}})]},proxy:!0}])},[e("div",{staticClass:"confirmation-content"},[e("i",{staticClass:"pi pi-exclamation-triangle mr-3",staticStyle:{"font-size":"2rem"}}),t.product?e("span",[t._v("确认删除所选项吗?")]):t._e()])])],1)])])}),[],!1,null,"24081793",null,null).exports)}}}))}();
//# sourceMappingURL=CrudDemo-legacy-CevGq9tA.js.map
