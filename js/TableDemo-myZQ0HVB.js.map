{"version":3,"file":"TableDemo-myZQ0HVB.js","sources":["../../src/api/CustomerService.js","../../src/views/TableDemo.vue"],"sourcesContent":["import request from '@/utils/request'\n\nexport default class CustomerService {\n  getCustomersSmall() {\n    return request.get('/demo/data/customers-small.json').then(res => res.data.data)\n  }\n\n  getCustomersMedium() {\n    return request.get('/demo/data/customers-medium.json').then(res => res.data.data)\n  }\n\n  getCustomersLarge() {\n    return request.get('/demo/data/customers-large.json').then(res => res.data.data)\n  }\n\n  getCustomersXLarge() {\n    return request.get('/demo/data/customers-xlarge.json').then(res => res.data.data)\n  }\n}\n","<template>\n  <div class=\"grid\">\n    <div class=\"col-12\">\n      <div class=\"card\">\n        <h4>默认</h4>\n        <p>分页，排序，过滤和复选框选择。</p>\n        <DataTable\n          :selection.sync=\"selectedCustomers1\"\n          :value=\"customer1\"\n          :paginator=\"true\"\n          class=\"p-datatable-customers\"\n          :rows=\"10\"\n          data-key=\"id\"\n          :row-hover=\"true\"\n          :filters=\"filters1\"\n          :loading=\"loading1\">\n          <template #header>\n            <div class=\"table-header\">\n              客户列表\n              <span class=\"p-input-icon-left\">\n                <i class=\"pi pi-search\" />\n                <InputText v-model=\"filters1['global']\" placeholder=\"全局检索\" />\n              </span>\n            </div>\n          </template>\n          <template #empty> 无数据。 </template>\n          <template #loading> 正在加载数据，请稍后... </template>\n          <Column selection-mode=\"multiple\" header-style=\"width: 3em\" />\n          <Column field=\"name\" header=\"名称\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              {{ slotProps.data.name }}\n            </template>\n          </Column>\n          <Column header=\"国家\" :sortable=\"true\" sort-field=\"country.name\" filter-field=\"country.name\">\n            <template #body=\"slotProps\">\n              <img\n                :src=\"$publicUrl('resource/demo/flags/flag_placeholder.png')\"\n                :alt=\"slotProps.data.country.name\"\n                :class=\"'flag flag-' + slotProps.data.country.code\"\n                width=\"30\" />\n              <span style=\"margin-left: 0.5em; vertical-align: middle\" class=\"image-text\">{{\n                slotProps.data.country.name\n              }}</span>\n            </template>\n          </Column>\n          <Column header=\"代表\" :sortable=\"true\" sort-field=\"representative.name\" filter-field=\"representative.name\">\n            <template #body=\"slotProps\">\n              <img\n                :alt=\"slotProps.data.representative.name\"\n                :src=\"$publicUrl('resource/demo/images/avatar/' + slotProps.data.representative.image)\"\n                width=\"32\"\n                style=\"vertical-align: middle\" />\n              <span style=\"margin-left: 0.5em; vertical-align: middle\" class=\"image-text\">{{\n                slotProps.data.representative.name\n              }}</span>\n            </template>\n          </Column>\n          <Column field=\"date\" header=\"日期\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              <span>{{ slotProps.data.date }}</span>\n            </template>\n          </Column>\n          <Column field=\"status\" header=\"状态\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              <span :class=\"'customer-badge status-' + slotProps.data.status\">{{ slotProps.data.status }}</span>\n            </template>\n          </Column>\n          <Column field=\"activity\" header=\"活动\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              <ProgressBar :value=\"slotProps.data.activity\" :show-value=\"false\" />\n            </template>\n          </Column>\n          <Column header-style=\"width: 8rem; text-align: center\" body-style=\"text-align: center; overflow: visible\">\n            <template #body>\n              <Button type=\"button\" icon=\"pi pi-cog\" class=\"p-button-secondary\" />\n            </template>\n          </Column>\n        </DataTable>\n      </div>\n    </div>\n    <div class=\"col-12\">\n      <div class=\"card\">\n        <h4>自定义样式</h4>\n        <p>\n          带网格线的可滚动表格（<mark>.p-datatable-gridlines</mark>），条纹行（<mark>.p-datatable-striped</mark>）和较小的填充符（<mark>p-datatable-sm</mark>）。\n        </p>\n        <DataTable\n          :selection.sync=\"selectedCustomers2\"\n          :value=\"customer2\"\n          :paginator=\"true\"\n          class=\"p-datatable-striped p-datatable-sm p-datatable-gridlines p-datatable-customers\"\n          :rows=\"10\"\n          data-key=\"id\"\n          :row-hover=\"true\"\n          :filters=\"filters2\"\n          :loading=\"loading2\">\n          <template #header>\n            <div class=\"table-header\">\n              客户\n              <span class=\"p-input-icon-left\">\n                <i class=\"pi pi-search\" />\n                <InputText v-model=\"filters2['global']\" placeholder=\"Search\" />\n              </span>\n            </div>\n          </template>\n\n          <template #empty> 无数据。 </template>\n          <template #loading> 正加载数据，请稍等... </template>\n\n          <Column field=\"name\" header=\"名称\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              {{ slotProps.data.name }}\n            </template>\n          </Column>\n          <Column header=\"国家\" :sortable=\"true\" sort-field=\"country.name\" filter-field=\"country.name\">\n            <template #body=\"slotProps\">\n              <span :class=\"'flag flag-' + slotProps.data.country.code\" style=\"width: 30px; height: 20px\" />\n              <span style=\"vertical-align: middle; margin-left: 0.5em\">{{ slotProps.data.country.name }}</span>\n            </template>\n          </Column>\n          <Column header=\"代表\" :sortable=\"true\" sort-field=\"representative.name\" filter-field=\"representative.name\">\n            <template #body=\"slotProps\">\n              <img\n                :alt=\"slotProps.data.representative.name\"\n                :src=\"$publicUrl('resource/demo/images/avatar/' + slotProps.data.representative.image)\"\n                width=\"32\"\n                style=\"vertical-align: middle\" />\n              <span style=\"vertical-align: middle; margin-left: 0.5em\">{{ slotProps.data.representative.name }}</span>\n            </template>\n          </Column>\n          <Column field=\"date\" header=\"加入日期\" :sortable=\"true\" />\n          <Column field=\"status\" header=\"状态\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              <span :class=\"'customer-badge status-' + slotProps.data.status\">{{ slotProps.data.status }}</span>\n            </template>\n          </Column>\n          <Column field=\"activity\" header=\"活动\" :sortable=\"true\">\n            <template #body=\"slotProps\">\n              <ProgressBar :value=\"slotProps.data.activity\" :show-value=\"false\" />\n            </template>\n          </Column>\n        </DataTable>\n      </div>\n    </div>\n\n    <div class=\"col-12\">\n      <div class=\"card\">\n        <h4>行展开</h4>\n\n        <Toast />\n        <DataTable\n          :expanded-rows.sync=\"expandedRows\"\n          :value=\"products\"\n          class=\"p-datatable-customers\"\n          data-key=\"id\"\n          @row-expand=\"onRowExpand\"\n          @row-collapse=\"onRowCollapse\">\n          <template #header>\n            <div class=\"table-header-container\">\n              <Button icon=\"pi pi-plus\" label=\"全部展开\" class=\"mr-2\" @click=\"expandAll\" />\n              <Button icon=\"pi pi-minus\" label=\"全部折叠\" @click=\"collapseAll\" />\n            </div>\n          </template>\n          <Column :expander=\"true\" header-style=\"width: 3rem\" />\n          <Column field=\"name\" header=\"名称\" sortable />\n          <Column header=\"图片\">\n            <template #body=\"slotProps\">\n              <img\n                :src=\"$publicUrl('resource/demo/images/product/' + slotProps.data.image)\"\n                :alt=\"slotProps.data.image\"\n                class=\"product-image\" />\n            </template>\n          </Column>\n          <Column field=\"price\" header=\"价格\" sortable>\n            <template #body=\"slotProps\">\n              {{ formatCurrency(slotProps.data.price) }}\n            </template>\n          </Column>\n          <Column field=\"category\" header=\"分类\" sortable />\n          <Column field=\"rating\" header=\"评分\" sortable>\n            <template #body=\"slotProps\">\n              <Rating :value=\"slotProps.data.rating\" :readonly=\"true\" :cancel=\"false\" />\n            </template>\n          </Column>\n          <Column field=\"inventoryStatus\" header=\"状态\" sortable>\n            <template #body=\"slotProps\">\n              <span :class=\"'product-badge status-' + slotProps.data.inventoryStatus.toLowerCase()\">{{\n                slotProps.data.inventoryStatus\n              }}</span>\n            </template>\n          </Column>\n          <template #expansion=\"slotProps\">\n            <div class=\"orders-subtable\">\n              <h5>{{ slotProps.data.name }} 订单</h5>\n              <DataTable :value=\"slotProps.data.orders\">\n                <Column field=\"id\" header=\"Id\" sortable />\n                <Column field=\"customer\" header=\"客户\" sortable />\n                <Column field=\"date\" header=\"日期\" sortable />\n                <Column field=\"amount\" header=\"金额\" sortable>\n                  <template #body=\"slotProps\">\n                    {{ formatCurrency(slotProps.data.amount) }}\n                  </template>\n                </Column>\n                <Column field=\"status\" header=\"状态\" sortable>\n                  <template #body=\"slotProps\">\n                    <span :class=\"'order-badge order-' + slotProps.data.status.toLowerCase()\">{{\n                      slotProps.data.status\n                    }}</span>\n                  </template>\n                </Column>\n                <Column header-style=\"width:4rem\">\n                  <template #body>\n                    <Button icon=\"pi pi-search\" />\n                  </template>\n                </Column>\n              </DataTable>\n            </div>\n          </template>\n        </DataTable>\n      </div>\n    </div>\n\n    <div class=\"col-12\">\n      <div class=\"card\">\n        <h4>行组</h4>\n        <DataTable\n          :value=\"customer3\"\n          class=\"p-datatable-customers\"\n          row-group-mode=\"subheader\"\n          group-rows-by=\"representative.name\"\n          sort-mode=\"single\"\n          sort-field=\"representative.name\"\n          :sort-order=\"1\">\n          <Column field=\"representative.name\" header=\"代表\" />\n          <Column field=\"name\" header=\"名称\" />\n          <Column field=\"country\" header=\"国家\">\n            <template #body=\"slotProps\">\n              <img\n                :src=\"$publicUrl('resource/demo/flags/flag_placeholder.png')\"\n                :class=\"'flag flag-' + slotProps.data.country.code\"\n                width=\"30\" />\n              <span style=\"margin-left: 0.5em; vertical-align: middle\" class=\"image-text\">{{\n                slotProps.data.country.name\n              }}</span>\n            </template>\n          </Column>\n          <Column field=\"company\" header=\"公司\" />\n          <Column field=\"status\" header=\"状态\">\n            <template #body=\"slotProps\">\n              <span :class=\"'customer-badge status-' + slotProps.data.status\">{{ slotProps.data.status }}</span>\n            </template>\n          </Column>\n          <Column field=\"date\" header=\"日期\" />\n          <template #groupheader=\"slotProps\">\n            <img\n              :alt=\"slotProps.data.representative.name\"\n              :src=\"$publicUrl('resource/demo/images/avatar/' + slotProps.data.representative.image)\"\n              width=\"32\"\n              style=\"vertical-align: middle\" />\n            <span style=\"margin-left: 0.5em; vertical-align: middle\" class=\"image-text\">\n              {{ slotProps.data.representative.name }}\n            </span>\n          </template>\n          <template #groupfooter=\"slotProps\">\n            <td colspan=\"4\" style=\"text-align: right\">总计</td>\n            <td>\n              {{ calculateCustomerTotal(slotProps.data.representative.name) }}\n            </td>\n          </template>\n        </DataTable>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CustomerService from '../api/CustomerService'\nimport ProductService from '../api/ProductService'\n\nexport default {\n  data() {\n    return {\n      customer1: null,\n      customer2: null,\n      customer3: null,\n      selectedCustomers1: null,\n      selectedCustomers2: null,\n      filters1: {},\n      filters2: {},\n      loading1: true,\n      loading2: true,\n      products: null,\n      expandedRows: []\n    }\n  },\n  customerService: null,\n  productService: null,\n  created() {\n    this.customerService = new CustomerService()\n    this.productService = new ProductService()\n  },\n  mounted() {\n    this.productService\n      .getProductsWithOrdersSmall()\n      .then((data) => (this.products = data))\n    this.customerService\n      .getCustomersMedium()\n      .then((data) => (this.customer1 = data))\n    this.customerService\n      .getCustomersLarge()\n      .then((data) => (this.customer2 = data))\n    this.customerService\n      .getCustomersMedium()\n      .then((data) => (this.customer3 = data))\n    this.loading1 = false\n    this.loading2 = false\n  },\n  methods: {\n    onRowExpand(event) {\n      this.$toast.add({\n        severity: 'info',\n        summary: 'Product Expanded',\n        detail: event.data.name,\n        life: 3000\n      })\n    },\n    onRowCollapse(event) {\n      this.$toast.add({\n        severity: 'success',\n        summary: 'Product Collapsed',\n        detail: event.data.name,\n        life: 3000\n      })\n    },\n    expandAll() {\n      this.expandedRows = this.products.filter((p) => p.id)\n      this.$toast.add({\n        severity: 'success',\n        summary: 'All Rows Expanded',\n        life: 3000\n      })\n    },\n    collapseAll() {\n      this.expandedRows = null\n      this.$toast.add({\n        severity: 'success',\n        summary: 'All Rows Collapsed',\n        life: 3000\n      })\n    },\n    formatCurrency(value) {\n      return value.toLocaleString('en-US', {\n        style: 'currency',\n        currency: 'USD'\n      })\n    },\n    calculateCustomerTotal(name) {\n      let total = 0\n\n      if (this.customer3) {\n        for (const customer of this.customer3) {\n          if (customer.representative.name === name) {\n            total++\n          }\n        }\n      }\n\n      return total\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n::v-deep .p-progressbar {\n  height: 0.5rem;\n  background-color: #d8dadc;\n\n  .p-progressbar-value {\n    background-color: #607d8b;\n  }\n}\n\n.p-datatable .p-column-filter {\n  display: none;\n}\n\n.table-header {\n  display: flex;\n  justify-content: space-between;\n}\n\n::v-deep .p-datatable.p-datatable-customers {\n  .p-datatable-header {\n    padding: 1rem;\n    text-align: left;\n    font-size: 1.5rem;\n  }\n\n  .p-paginator {\n    padding: 1rem;\n  }\n\n  .p-datatable-thead > tr > th {\n    text-align: left;\n  }\n\n  .p-datatable-tbody > tr > td {\n    cursor: auto;\n  }\n\n  .p-dropdown-label:not(.p-placeholder) {\n    text-transform: uppercase;\n  }\n}\n\n/* Responsive */\n.p-datatable-customers .p-datatable-tbody > tr > td .p-column-title {\n  display: none;\n}\n\n.customer-badge {\n  border-radius: 2px;\n  padding: 0.25em 0.5rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 12px;\n  letter-spacing: 0.3px;\n\n  &.status-合格 {\n    background: #c8e6c9;\n    color: #256029;\n  }\n\n  &.status-不合格 {\n    background: #ffcdd2;\n    color: #c63737;\n  }\n\n  &.status-谈判 {\n    background: #feedaf;\n    color: #8a5340;\n  }\n\n  &.status-新建 {\n    background: #b3e5fc;\n    color: #23547b;\n  }\n\n  &.status-更新 {\n    background: #eccfff;\n    color: #694382;\n  }\n\n  &.status-提案 {\n    background: #ffd8b2;\n    color: #805b36;\n  }\n}\n\n.p-progressbar-value.ui-widget-header {\n  background: #607d8b;\n}\n\n@media (max-width: 640px) {\n  .p-progressbar {\n    margin-top: 0.5rem;\n  }\n}\n\n.product-image {\n  width: 100px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n}\n\n.orders-subtable {\n  padding: 1rem;\n}\n\n.product-badge {\n  border-radius: 2px;\n  padding: 0.25em 0.5rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 12px;\n  letter-spacing: 0.3px;\n\n  &.status-instock {\n    background: #c8e6c9;\n    color: #256029;\n  }\n\n  &.status-outofstock {\n    background: #ffcdd2;\n    color: #c63737;\n  }\n\n  &.status-lowstock {\n    background: #feedaf;\n    color: #8a5340;\n  }\n}\n\n.order-badge {\n  border-radius: 2px;\n  padding: 0.25em 0.5rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 12px;\n  letter-spacing: 0.3px;\n\n  &.order-delivered {\n    background: #c8e6c9;\n    color: #256029;\n  }\n\n  &.order-cancelled {\n    background: #ffcdd2;\n    color: #c63737;\n  }\n\n  &.order-pending {\n    background: #feedaf;\n    color: #8a5340;\n  }\n\n  &.order-returned {\n    background: #eccfff;\n    color: #694382;\n  }\n}\n\n@media screen and (max-width: 960px) {\n  ::v-deep .p-datatable {\n    &.p-datatable-customers {\n      .p-datatable-thead > tr > th,\n      .p-datatable-tfoot > tr > td {\n        display: none !important;\n      }\n\n      .p-datatable-tbody > tr {\n        border-bottom: 1px solid var(--layer-2);\n\n        > td {\n          text-align: left;\n          display: block;\n          border: 0 none !important;\n          width: 100% !important;\n          float: left;\n          clear: left;\n          border: 0 none;\n\n          .p-column-title {\n            padding: 0.4rem;\n            min-width: 30%;\n            display: inline-block;\n            margin: -0.4rem 1rem -0.4rem -0.4rem;\n            font-weight: bold;\n          }\n\n          .p-progressbar {\n            margin-top: 0.5rem;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"],"names":["CustomerService","request","res","_sfc_main","ProductService","data","event","p","value","name","total","customer"],"mappings":"uWAEe,MAAMA,CAAgB,CACnC,mBAAoB,CAClB,OAAOC,EAAQ,IAAI,iCAAiC,EAAE,KAAKC,GAAOA,EAAI,KAAK,IAAI,CAChF,CAED,oBAAqB,CACnB,OAAOD,EAAQ,IAAI,kCAAkC,EAAE,KAAKC,GAAOA,EAAI,KAAK,IAAI,CACjF,CAED,mBAAoB,CAClB,OAAOD,EAAQ,IAAI,iCAAiC,EAAE,KAAKC,GAAOA,EAAI,KAAK,IAAI,CAChF,CAED,oBAAqB,CACnB,OAAOD,EAAQ,IAAI,kCAAkC,EAAE,KAAKC,GAAOA,EAAI,KAAK,IAAI,CACjF,CACH,CCqQA,MAAAC,EAAA,CACA,MAAA,CACA,MAAA,CACA,UAAA,KACA,UAAA,KACA,UAAA,KACA,mBAAA,KACA,mBAAA,KACA,SAAA,CAAA,EACA,SAAA,CAAA,EACA,SAAA,GACA,SAAA,GACA,SAAA,KACA,aAAA,CAAA,CACA,CACA,EACA,gBAAA,KACA,eAAA,KACA,SAAA,CACA,KAAA,gBAAA,IAAAH,EACA,KAAA,eAAA,IAAAI,CACA,EACA,SAAA,CACA,KAAA,eACA,2BAAA,EACA,KAAAC,GAAA,KAAA,SAAAA,CAAA,EACA,KAAA,gBACA,mBAAA,EACA,KAAAA,GAAA,KAAA,UAAAA,CAAA,EACA,KAAA,gBACA,kBAAA,EACA,KAAAA,GAAA,KAAA,UAAAA,CAAA,EACA,KAAA,gBACA,mBAAA,EACA,KAAAA,GAAA,KAAA,UAAAA,CAAA,EACA,KAAA,SAAA,GACA,KAAA,SAAA,EACA,EACA,QAAA,CACA,YAAAC,EAAA,CACA,KAAA,OAAA,IAAA,CACA,SAAA,OACA,QAAA,mBACA,OAAAA,EAAA,KAAA,KACA,KAAA,GACA,CAAA,CACA,EACA,cAAAA,EAAA,CACA,KAAA,OAAA,IAAA,CACA,SAAA,UACA,QAAA,oBACA,OAAAA,EAAA,KAAA,KACA,KAAA,GACA,CAAA,CACA,EACA,WAAA,CACA,KAAA,aAAA,KAAA,SAAA,OAAAC,GAAAA,EAAA,EAAA,EACA,KAAA,OAAA,IAAA,CACA,SAAA,UACA,QAAA,oBACA,KAAA,GACA,CAAA,CACA,EACA,aAAA,CACA,KAAA,aAAA,KACA,KAAA,OAAA,IAAA,CACA,SAAA,UACA,QAAA,qBACA,KAAA,GACA,CAAA,CACA,EACA,eAAAC,EAAA,CACA,OAAAA,EAAA,eAAA,QAAA,CACA,MAAA,WACA,SAAA,KACA,CAAA,CACA,EACA,uBAAAC,EAAA,CACA,IAAAC,EAAA,EAEA,GAAA,KAAA,UACA,UAAAC,KAAA,KAAA,UACAA,EAAA,eAAA,OAAAF,GACAC,IAKA,OAAAA,CACA,CACA,CACA"}