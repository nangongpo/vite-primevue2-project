{"version":3,"file":"index-legacy-7HXc_u0U.js","sources":["../../index.html?html-proxy&index=0.js","../../index.html?html-proxy&index=1.js","../../index.html?html-proxy&index=2.js","../../index.html?html-proxy&index=4.js","../../index.html?html-proxy&index=3.js","../../index.html?html-proxy&index=5.js","../../src/App.vue","../../src/plugins/primevue.js","../../src/permission.js","../../src/main.js"],"sourcesContent":["console.warn(\"[vite-plugin-fake-server]:The plugin is applied in the production environment, check in https://github.com/condorheroblog/vite-plugin-fake-server#enableprod\");","window.__VITE__PLUGIN__FAKE__SERVER__={\n  \"meta\": {\n    \"name\": \"vite-plugin-fake-server\",\n    \"version\": \"2.1.1\",\n    \"type\": \"module\",\n    \"license\": \"MIT\",\n    \"author\": \"Condor Hero\",\n    \"description\": \"A fake server plugin for Vite.\",\n    \"exports\": {\n      \".\": {\n        \"require\": \"./dist/index.cjs\",\n        \"import\": \"./dist/index.mjs\"\n      },\n      \"./client\": {\n        \"require\": \"./dist/client.cjs\",\n        \"import\": \"./dist/client.mjs\"\n      }\n    },\n    \"main\": \"dist/index.cjs\",\n    \"module\": \"dist/index.mjs\",\n    \"types\": \"dist/index.d.cts\",\n    \"typesVersions\": {\n      \"*\": {\n        \"*\": [\n          \"./dist/*\",\n          \"./dist/index.d.ts\"\n        ]\n      }\n    },\n    \"files\": [\n      \"dist\"\n    ],\n    \"keywords\": [\n      \"vite-plugin-fake-server\",\n      \"vite-plugin-fake\",\n      \"vite-plugin-faker\",\n      \"vite-plugin-mock-server\",\n      \"vite-plugin-mock\",\n      \"faker-server\"\n    ],\n    \"repository\": {\n      \"type\": \"git\",\n      \"url\": \"git+https://github.com/condorheroblog/vite-plugin-fake-server.git\",\n      \"directory\": \"packages/vite-plugin-fake-server\"\n    },\n    \"bugs\": {\n      \"url\": \"https://github.com/condorheroblog/vite-plugin-fake-server/issues\"\n    },\n    \"homepage\": \"https://github.com/condorheroblog/vite-plugin-fake-server/blob/main/README.md\",\n    \"scripts\": {\n      \"prepublishOnly\": \"nr build\",\n      \"test\": \"vitest\",\n      \"dev\": \"esno ./src/index.ts\",\n      \"build\": \"rimraf dist && rollup -c\",\n      \"build:watch\": \"rimraf dist && rollup -c -w\",\n      \"typecheck\": \"tsc --noEmit\"\n    },\n    \"dependencies\": {\n      \"bundle-import\": \"^0.0.1\",\n      \"chokidar\": \"^3.5.3\",\n      \"fast-glob\": \"^3.3.2\",\n      \"path-to-regexp\": \"^6.2.1\",\n      \"picocolors\": \"^1.0.0\"\n    },\n    \"devDependencies\": {\n      \"vite\": \"^5.0.11\"\n    },\n    \"publishConfig\": {\n      \"access\": \"public\",\n      \"registry\": \"https://registry.npmjs.org\"\n    }\n  },\n  \"vitePluginFakeServerOptions\": {\n    \"include\": \"mock\",\n    \"exclude\": [\n      \"data\"\n    ],\n    \"infixName\": false,\n    \"extensions\": [\n      \"js\"\n    ],\n    \"enableProd\": true,\n    \"enableDev\": true,\n    \"watch\": true,\n    \"logger\": true,\n    \"timeout\": 1000,\n    \"basename\": \"/prod-api\",\n    \"headers\": {},\n    \"build\": false,\n    \"http2\": true\n  }\n};","\n\t\t\t\t\tconst modules = import.meta.glob([\n  \"/mock/country.js\",\n  \"/mock/customer.js\",\n  \"/mock/event.js\",\n  \"/mock/icons.js\",\n  \"/mock/node.js\",\n  \"/mock/photo.js\",\n  \"/mock/product.js\",\n  \"/mock/user.js\"\n], { eager: true });\n\t\t\t\t\tconst fakeModuleList = Object.keys(modules).reduce((list, key) => {\n\t\t\t\t\t\tconst module = modules[key] ?? {};\n\t\t\t\t\t\tif (module.default) {\n\t\t\t\t\t\t\tfor (const moduleKey of Object.keys(module)) {\n\t\t\t\t\t\t\t\tconst mod = modules[key][moduleKey] ?? [];\n\t\t\t\t\t\t\t\tconst modList = Array.isArray(mod) ? [...mod] : [mod];\n\t\t\t\t\t\t\t\treturn [...list, ...modList];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn list;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, []);\n\t\t\t\t\twindow.__VITE__PLUGIN__FAKE__SERVER__.fakeModuleList = fakeModuleList;\n\t\t\t\t","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \".concat(i));\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \".concat(j));\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \".concat(j));\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \".concat(i));\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \".concat(i));\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\".concat(escapeString(options.delimiter || \"/#?\"), \"]+?\");\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \".concat(nextType, \" at \").concat(index, \", expected \").concat(type));\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\".concat(token.pattern, \")$\"), reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not repeat, but got an array\"));\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not be empty\"));\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to be \").concat(typeOfMessage));\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while (execResult) {\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\",\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\".concat(parts.join(\"|\"), \")\"), flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d, _e = options.delimiter, delimiter = _e === void 0 ? \"/#?\" : _e, _f = options.endsWith, endsWith = _f === void 0 ? \"\" : _f;\n    var endsWithRe = \"[\".concat(escapeString(endsWith), \"]|$\");\n    var delimiterRe = \"[\".concat(escapeString(delimiter), \"]\");\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\".concat(prefix, \"((?:\").concat(token.pattern, \")(?:\").concat(suffix).concat(prefix, \"(?:\").concat(token.pattern, \"))*)\").concat(suffix, \")\").concat(mod);\n                    }\n                    else {\n                        route += \"(?:\".concat(prefix, \"(\").concat(token.pattern, \")\").concat(suffix, \")\").concat(token.modifier);\n                    }\n                }\n                else {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        route += \"((?:\".concat(token.pattern, \")\").concat(token.modifier, \")\");\n                    }\n                    else {\n                        route += \"(\".concat(token.pattern, \")\").concat(token.modifier);\n                    }\n                }\n            }\n            else {\n                route += \"(?:\".concat(prefix).concat(suffix, \")\").concat(token.modifier);\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += \"\".concat(delimiterRe, \"?\");\n        route += !options.endsWith ? \"$\" : \"(?=\".concat(endsWithRe, \")\");\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n            : endToken === undefined;\n        if (!strict) {\n            route += \"(?:\".concat(delimiterRe, \"(?=\").concat(endsWithRe, \"))?\");\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\".concat(delimiterRe, \"|\").concat(endsWithRe, \")\");\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map\n;window.__VITE__PLUGIN__FAKE__SERVER__.pathToRegexp={pathToRegexp, match};","function xhook() {\n\t//The new code belongs to vite-plugin-fake-server\n\tconst isLink = (linkHref) => {\n\t\ttry {\n\t\t\tnew URL(linkHref);\n\t\t\treturn true;\n\t\t} catch {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tconst slice = (o, n) => Array.prototype.slice.call(o, n);\n\n\tlet result = null;\n\n\t//find global object\n\tif (typeof WorkerGlobalScope !== \"undefined\" && self instanceof WorkerGlobalScope) {\n\t\tresult = self;\n\t} else if (typeof global !== \"undefined\") {\n\t\tresult = global;\n\t} else if (window) {\n\t\tresult = window;\n\t}\n\n\tconst windowRef = result;\n\tconst documentRef = result.document;\n\n\tconst UPLOAD_EVENTS = [\"load\", \"loadend\", \"loadstart\"];\n\tconst COMMON_EVENTS = [\"progress\", \"abort\", \"error\", \"timeout\"];\n\n\tconst depricatedProp = (p) => [\"returnValue\", \"totalSize\", \"position\"].includes(p);\n\n\tconst mergeObjects = function (src, dst) {\n\t\tfor (let k in src) {\n\t\t\tif (depricatedProp(k)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst v = src[k];\n\t\t\ttry {\n\t\t\t\tdst[k] = v;\n\t\t\t} catch (error) {}\n\t\t}\n\t\treturn dst;\n\t};\n\n\t//proxy events from one emitter to another\n\tconst proxyEvents = function (events, src, dst) {\n\t\tconst p = (event) =>\n\t\t\tfunction (e) {\n\t\t\t\tconst clone = {};\n\t\t\t\t//copies event, with dst emitter inplace of src\n\t\t\t\tfor (let k in e) {\n\t\t\t\t\tif (depricatedProp(k)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst val = e[k];\n\t\t\t\t\tclone[k] = val === src ? dst : val;\n\t\t\t\t}\n\t\t\t\t//emits out the dst\n\t\t\t\treturn dst.dispatchEvent(event, clone);\n\t\t\t};\n\t\t//dont proxy manual events\n\t\tfor (let event of Array.from(events)) {\n\t\t\tif (dst._has(event)) {\n\t\t\t\tsrc[`on${event}`] = p(event);\n\t\t\t}\n\t\t}\n\t};\n\n\t//create fake event\n\tconst fakeEvent = function (type) {\n\t\tif (documentRef && documentRef.createEventObject != null) {\n\t\t\tconst msieEventObject = documentRef.createEventObject();\n\t\t\tmsieEventObject.type = type;\n\t\t\treturn msieEventObject;\n\t\t}\n\t\t// on some platforms like android 4.1.2 and safari on windows, it appears\n\t\t// that new Event is not allowed\n\t\ttry {\n\t\t\treturn new Event(type);\n\t\t} catch (error) {\n\t\t\treturn { type };\n\t\t}\n\t};\n\n\t//tiny event emitter\n\tconst EventEmitter = function (nodeStyle) {\n\t\t//private\n\t\tlet events = {};\n\t\tconst listeners = (event) => events[event] || [];\n\t\t//public\n\t\tconst emitter = {};\n\t\temitter.addEventListener = function (event, callback, i) {\n\t\t\tevents[event] = listeners(event);\n\t\t\tif (events[event].indexOf(callback) >= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ti = i === undefined ? events[event].length : i;\n\t\t\tevents[event].splice(i, 0, callback);\n\t\t};\n\t\temitter.removeEventListener = function (event, callback) {\n\t\t\t//remove all\n\t\t\tif (event === undefined) {\n\t\t\t\tevents = {};\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//remove all of type event\n\t\t\tif (callback === undefined) {\n\t\t\t\tevents[event] = [];\n\t\t\t}\n\t\t\t//remove particular handler\n\t\t\tconst i = listeners(event).indexOf(callback);\n\t\t\tif (i === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlisteners(event).splice(i, 1);\n\t\t};\n\t\temitter.dispatchEvent = function () {\n\t\t\tconst args = slice(arguments);\n\t\t\tconst event = args.shift();\n\t\t\tif (!nodeStyle) {\n\t\t\t\targs[0] = mergeObjects(args[0], fakeEvent(event));\n\t\t\t\tObject.defineProperty(args[0], \"target\", {\n\t\t\t\t\twritable: false,\n\t\t\t\t\tvalue: this,\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst legacylistener = emitter[`on${event}`];\n\t\t\tif (legacylistener) {\n\t\t\t\tlegacylistener.apply(emitter, args);\n\t\t\t}\n\t\t\tconst iterable = listeners(event).concat(listeners(\"*\"));\n\t\t\tfor (let i = 0; i < iterable.length; i++) {\n\t\t\t\tconst listener = iterable[i];\n\t\t\t\tlistener.apply(emitter, args);\n\t\t\t}\n\t\t};\n\t\temitter._has = (event) => !!(events[event] || emitter[`on${event}`]);\n\t\t//add extra aliases\n\t\tif (nodeStyle) {\n\t\t\temitter.listeners = (event) => slice(listeners(event));\n\t\t\temitter.on = emitter.addEventListener;\n\t\t\temitter.off = emitter.removeEventListener;\n\t\t\temitter.fire = emitter.dispatchEvent;\n\t\t\temitter.once = function (e, fn) {\n\t\t\t\tvar fire = function () {\n\t\t\t\t\temitter.off(e, fire);\n\t\t\t\t\treturn fn.apply(null, arguments);\n\t\t\t\t};\n\t\t\t\treturn emitter.on(e, fire);\n\t\t\t};\n\t\t\temitter.destroy = () => (events = {});\n\t\t}\n\n\t\treturn emitter;\n\t};\n\n\t//helper\n\tconst CRLF = \"\\r\\n\";\n\n\tconst objectToString = function (headersObj) {\n\t\tconst entries = Object.entries(headersObj);\n\n\t\tconst headers = entries.map(([name, value]) => {\n\t\t\treturn `${name.toLowerCase()}: ${value}`;\n\t\t});\n\n\t\treturn headers.join(CRLF);\n\t};\n\n\tconst stringToObject = function (headersString, dest) {\n\t\tconst headers = headersString.split(CRLF);\n\t\tif (dest == null) {\n\t\t\tdest = {};\n\t\t}\n\n\t\tfor (let header of headers) {\n\t\t\tif (/([^:]+):\\s*(.+)/.test(header)) {\n\t\t\t\tconst name = RegExp.$1 != null ? RegExp.$1.toLowerCase() : undefined;\n\t\t\t\tconst value = RegExp.$2;\n\t\t\t\tif (dest[name] == null) {\n\t\t\t\t\tdest[name] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dest;\n\t};\n\n\tconst convert = function (headers, dest) {\n\t\tswitch (typeof headers) {\n\t\t\tcase \"object\": {\n\t\t\t\treturn objectToString(headers);\n\t\t\t}\n\t\t\tcase \"string\": {\n\t\t\t\treturn stringToObject(headers, dest);\n\t\t\t}\n\t\t}\n\n\t\treturn [];\n\t};\n\n\tvar headers = { convert };\n\n\t//global set of hook functions,\n\t//uses event emitter to store hooks\n\tconst hooks = EventEmitter(true);\n\n\tconst nullify = (res) => (res === undefined ? null : res);\n\n\t//browser's XMLHttpRequest\n\tconst Native$1 = windowRef.XMLHttpRequest;\n\n\t//xhook's XMLHttpRequest\n\tconst Xhook$1 = function () {\n\t\tconst ABORTED = -1;\n\t\tconst xhr = new Native$1();\n\n\t\t//==========================\n\t\t// Extra state\n\t\tconst request = {};\n\t\tlet status = null;\n\t\tlet hasError = undefined;\n\t\tlet transiting = undefined;\n\t\tlet response = undefined;\n\t\tvar currentState = 0;\n\n\t\t//==========================\n\t\t// Private API\n\n\t\t//read results from real xhr into response\n\t\tconst readHead = function () {\n\t\t\t// Accessing attributes on an aborted xhr object will\n\t\t\t// throw an 'c00c023f error' in IE9 and lower, don't touch it.\n\t\t\tresponse.status = status || xhr.status;\n\t\t\tif (status !== ABORTED) {\n\t\t\t\tresponse.statusText = xhr.statusText;\n\t\t\t}\n\t\t\tif (status !== ABORTED) {\n\t\t\t\tconst object = headers.convert(xhr.getAllResponseHeaders());\n\t\t\t\tfor (let key in object) {\n\t\t\t\t\tconst val = object[key];\n\t\t\t\t\tif (!response.headers[key]) {\n\t\t\t\t\t\tconst name = key.toLowerCase();\n\t\t\t\t\t\tresponse.headers[name] = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t};\n\n\t\tconst readBody = function () {\n\t\t\t//https://xhr.spec.whatwg.org/\n\t\t\tif (!xhr.responseType || xhr.responseType === \"text\") {\n\t\t\t\tresponse.text = xhr.responseText;\n\t\t\t\tresponse.data = xhr.responseText;\n\t\t\t\ttry {\n\t\t\t\t\tresponse.xml = xhr.responseXML;\n\t\t\t\t} catch (error) {}\n\t\t\t\t// unable to set responseXML due to response type, we attempt to assign responseXML\n\t\t\t\t// when the type is text even though it's against the spec due to several libraries\n\t\t\t\t// and browser vendors who allow this behavior. causing these requests to fail when\n\t\t\t\t// xhook is installed on a page.\n\t\t\t} else if (xhr.responseType === \"document\") {\n\t\t\t\tresponse.xml = xhr.responseXML;\n\t\t\t\tresponse.data = xhr.responseXML;\n\t\t\t} else {\n\t\t\t\tresponse.data = xhr.response;\n\t\t\t}\n\t\t\t//new in some browsers\n\t\t\tif (\"responseURL\" in xhr) {\n\t\t\t\t//The new code belongs to vite-plugin-fake-server\n\t\t\t\tresponse.responseURL = xhr.responseURL;\n\t\t\t}\n\t\t};\n\n\t\t//write response into facade xhr\n\t\tconst writeHead = function () {\n\t\t\tfacade.status = response.status;\n\t\t\tfacade.statusText = response.statusText;\n\t\t};\n\n\t\tconst writeBody = function () {\n\t\t\tif (\"text\" in response) {\n\t\t\t\tfacade.responseText = response.text;\n\t\t\t}\n\t\t\tif (\"xml\" in response) {\n\t\t\t\tfacade.responseXML = response.xml;\n\t\t\t}\n\t\t\tif (\"data\" in response) {\n\t\t\t\tfacade.response = response.data;\n\t\t\t} else {\n\t\t\t\t//https://github.com/jpillora/xhook/issues/173\n\t\t\t\t//The new code belongs to vite-plugin-fake-server\n\t\t\t\tconst defaultResponseBody = {\n\t\t\t\t\t\"\": \"\",\n\t\t\t\t\ttext: \"\",\n\t\t\t\t\tjson: null,\n\t\t\t\t\tblob: new Blob([], { type: new Headers(response.headers ?? {}).get(\"content-type\") }),\n\t\t\t\t\tarraybuffer: new ArrayBuffer(),\n\t\t\t\t};\n\t\t\t\tfacade.response = defaultResponseBody[facade.responseType];\n\t\t\t}\n\n\t\t\t//The new code belongs to vite-plugin-fake-server\n\t\t\tif (\"responseURL\" in response || request.url) {\n\t\t\t\tfacade.responseURL =\n\t\t\t\t\tresponse.responseURL ?? (isLink(request.url) ? request.url : new URL(location.href).origin + request.url);\n\t\t\t}\n\t\t};\n\n\t\tconst emitFinal = function () {\n\t\t\tif (!hasError) {\n\t\t\t\tfacade.dispatchEvent(\"load\", {});\n\t\t\t}\n\t\t\tfacade.dispatchEvent(\"loadend\", {});\n\t\t\tif (hasError) {\n\t\t\t\tfacade.readyState = 0;\n\t\t\t}\n\t\t};\n\n\t\t//ensure ready state 0 through 4 is handled\n\t\tconst emitReadyState = function (n) {\n\t\t\twhile (n > currentState && currentState < 4) {\n\t\t\t\tfacade.readyState = ++currentState;\n\t\t\t\t// make fake events for libraries that actually check the type on\n\t\t\t\t// the event object\n\t\t\t\tif (currentState === 1) {\n\t\t\t\t\tfacade.dispatchEvent(\"loadstart\", {});\n\t\t\t\t}\n\t\t\t\tif (currentState === 2) {\n\t\t\t\t\twriteHead();\n\t\t\t\t}\n\t\t\t\tif (currentState === 4) {\n\t\t\t\t\twriteHead();\n\t\t\t\t\twriteBody();\n\t\t\t\t}\n\t\t\t\tfacade.dispatchEvent(\"readystatechange\", {});\n\t\t\t\t//delay final events incase of error\n\t\t\t\tif (currentState === 4) {\n\t\t\t\t\tif (request.async === false) {\n\t\t\t\t\t\temitFinal();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(emitFinal, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t//control facade ready state\n\t\tconst setReadyState = function (n) {\n\t\t\t//emit events until readyState reaches 4\n\t\t\tif (n !== 4) {\n\t\t\t\temitReadyState(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//before emitting 4, run all 'after' hooks in sequence\n\t\t\tconst afterHooks = hooks.listeners(\"after\");\n\t\t\tvar process = function () {\n\t\t\t\tif (afterHooks.length > 0) {\n\t\t\t\t\t//execute each 'before' hook one at a time\n\t\t\t\t\tconst hook = afterHooks.shift();\n\t\t\t\t\tif (hook.length === 2) {\n\t\t\t\t\t\thook(request, response);\n\t\t\t\t\t\tprocess();\n\t\t\t\t\t} else if (hook.length === 3 && request.async) {\n\t\t\t\t\t\thook(request, response, process);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprocess();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//response ready for reading\n\t\t\t\t\temitReadyState(4);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t};\n\t\t\tprocess();\n\t\t};\n\n\t\t//==========================\n\t\t// Facade XHR\n\t\tvar facade = EventEmitter();\n\t\trequest.xhr = facade;\n\n\t\t// Handle the underlying ready state\n\t\txhr.onreadystatechange = function (event) {\n\t\t\t//pull status and headers\n\t\t\ttry {\n\t\t\t\tif (xhr.readyState === 2) {\n\t\t\t\t\treadHead();\n\t\t\t\t}\n\t\t\t} catch (error) {}\n\t\t\t//pull response data\n\t\t\tif (xhr.readyState === 4) {\n\t\t\t\ttransiting = false;\n\t\t\t\treadHead();\n\t\t\t\treadBody();\n\t\t\t}\n\n\t\t\tsetReadyState(xhr.readyState);\n\t\t};\n\n\t\t//mark this xhr as errored\n\t\tconst hasErrorHandler = function () {\n\t\t\thasError = true;\n\t\t};\n\t\tfacade.addEventListener(\"error\", hasErrorHandler);\n\t\tfacade.addEventListener(\"timeout\", hasErrorHandler);\n\t\tfacade.addEventListener(\"abort\", hasErrorHandler);\n\t\t// progress means we're current downloading...\n\t\tfacade.addEventListener(\"progress\", function (event) {\n\t\t\tif (currentState < 3) {\n\t\t\t\tsetReadyState(3);\n\t\t\t} else if (xhr.readyState <= 3) {\n\t\t\t\t//until ready (4), each progress event is followed by readystatechange...\n\t\t\t\tfacade.dispatchEvent(\"readystatechange\", {}); //TODO fake an XHR event\n\t\t\t}\n\t\t});\n\n\t\t// initialise 'withCredentials' on facade xhr in browsers with it\n\t\t// or if explicitly told to do so\n\t\tif (\"withCredentials\" in xhr) {\n\t\t\tfacade.withCredentials = false;\n\t\t}\n\t\tfacade.status = 0;\n\n\t\t// initialise all possible event handlers\n\t\tfor (let event of Array.from(COMMON_EVENTS.concat(UPLOAD_EVENTS))) {\n\t\t\tfacade[`on${event}`] = null;\n\t\t}\n\n\t\tfacade.open = function (method, url, async, user, pass) {\n\t\t\t// Initailize empty XHR facade\n\t\t\tcurrentState = 0;\n\t\t\thasError = false;\n\t\t\ttransiting = false;\n\t\t\t//reset request\n\t\t\trequest.headers = {};\n\t\t\trequest.headerNames = {};\n\t\t\trequest.status = 0;\n\t\t\trequest.method = method;\n\t\t\trequest.url = url;\n\t\t\trequest.async = async !== false;\n\t\t\trequest.user = user;\n\t\t\trequest.pass = pass;\n\t\t\t//reset response\n\t\t\tresponse = {};\n\t\t\tresponse.headers = {};\n\t\t\t// openned facade xhr (not real xhr)\n\t\t\tsetReadyState(1);\n\t\t};\n\n\t\tfacade.send = function (body) {\n\t\t\t//read xhr settings before hooking\n\t\t\tlet k, modk;\n\t\t\tfor (k of [\"type\", \"timeout\", \"withCredentials\"]) {\n\t\t\t\tmodk = k === \"type\" ? \"responseType\" : k;\n\t\t\t\tif (modk in facade) {\n\t\t\t\t\trequest[k] = facade[modk];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trequest.body = body;\n\t\t\tconst send = function () {\n\t\t\t\t//proxy all events from real xhr to facade\n\t\t\t\tproxyEvents(COMMON_EVENTS, xhr, facade);\n\t\t\t\t//proxy all upload events from the real to the upload facade\n\t\t\t\tif (facade.upload) {\n\t\t\t\t\tproxyEvents(COMMON_EVENTS.concat(UPLOAD_EVENTS), xhr.upload, facade.upload);\n\t\t\t\t}\n\n\t\t\t\t//prepare request all at once\n\t\t\t\ttransiting = true;\n\t\t\t\t//perform open\n\t\t\t\txhr.open(request.method, request.url, request.async, request.user, request.pass);\n\n\t\t\t\t//write xhr settings\n\t\t\t\tfor (k of [\"type\", \"timeout\", \"withCredentials\"]) {\n\t\t\t\t\tmodk = k === \"type\" ? \"responseType\" : k;\n\t\t\t\t\tif (k in request) {\n\t\t\t\t\t\txhr[modk] = request[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//insert headers\n\t\t\t\tfor (let header in request.headers) {\n\t\t\t\t\tconst value = request.headers[header];\n\t\t\t\t\tif (header) {\n\t\t\t\t\t\txhr.setRequestHeader(header, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//real send!\n\t\t\t\txhr.send(request.body);\n\t\t\t};\n\n\t\t\tconst beforeHooks = hooks.listeners(\"before\");\n\t\t\t//process beforeHooks sequentially\n\t\t\tvar process = function () {\n\t\t\t\tif (!beforeHooks.length) {\n\t\t\t\t\treturn send();\n\t\t\t\t}\n\t\t\t\t//go to next hook OR optionally provide response\n\t\t\t\tconst done = function (userResponse) {\n\t\t\t\t\t//break chain - provide dummy response (readyState 4)\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof userResponse === \"object\" &&\n\t\t\t\t\t\t(typeof userResponse.status === \"number\" || typeof response.status === \"number\")\n\t\t\t\t\t) {\n\t\t\t\t\t\tmergeObjects(userResponse, response);\n\t\t\t\t\t\tif (!(\"data\" in userResponse)) {\n\t\t\t\t\t\t\tuserResponse.data = userResponse.response || userResponse.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetReadyState(4);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t//continue processing until no beforeHooks left\n\t\t\t\t\tprocess();\n\t\t\t\t};\n\t\t\t\t//specifically provide headers (readyState 2)\n\t\t\t\tdone.head = function (userResponse) {\n\t\t\t\t\tmergeObjects(userResponse, response);\n\t\t\t\t\tsetReadyState(2);\n\t\t\t\t};\n\t\t\t\t//specifically provide partial text (responseText  readyState 3)\n\t\t\t\tdone.progress = function (userResponse) {\n\t\t\t\t\tmergeObjects(userResponse, response);\n\t\t\t\t\tsetReadyState(3);\n\t\t\t\t};\n\n\t\t\t\tconst hook = beforeHooks.shift();\n\t\t\t\t//async or sync?\n\t\t\t\tif (hook.length === 1) {\n\t\t\t\t\tdone(hook(request));\n\t\t\t\t} else if (hook.length === 2 && request.async) {\n\t\t\t\t\t//async handlers must use an async xhr\n\t\t\t\t\thook(request, done);\n\t\t\t\t} else {\n\t\t\t\t\t//skip async hook on sync requests\n\t\t\t\t\tdone();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t};\n\t\t\t//kick off\n\t\t\tprocess();\n\t\t};\n\n\t\tfacade.abort = function () {\n\t\t\tstatus = ABORTED;\n\t\t\tif (transiting) {\n\t\t\t\txhr.abort(); //this will emit an 'abort' for us\n\t\t\t} else {\n\t\t\t\tfacade.dispatchEvent(\"abort\", {});\n\t\t\t}\n\t\t};\n\n\t\tfacade.setRequestHeader = function (header, value) {\n\t\t\t//the first header set is used for all future case-alternatives of 'name'\n\t\t\tconst lName = header != null ? header.toLowerCase() : undefined;\n\t\t\tconst name = (request.headerNames[lName] = request.headerNames[lName] || header);\n\t\t\t//append header to any previous values\n\t\t\tif (request.headers[name]) {\n\t\t\t\tvalue = request.headers[name] + \", \" + value;\n\t\t\t}\n\t\t\trequest.headers[name] = value;\n\t\t};\n\t\tfacade.getResponseHeader = (header) => nullify(response.headers[header ? header.toLowerCase() : undefined]);\n\n\t\tfacade.getAllResponseHeaders = () => nullify(headers.convert(response.headers));\n\n\t\t//proxy call only when supported\n\t\tif (xhr.overrideMimeType) {\n\t\t\tfacade.overrideMimeType = function () {\n\t\t\t\txhr.overrideMimeType.apply(xhr, arguments);\n\t\t\t};\n\t\t}\n\n\t\t//create emitter when supported\n\t\tif (xhr.upload) {\n\t\t\tlet up = EventEmitter();\n\t\t\tfacade.upload = up;\n\t\t\trequest.upload = up;\n\t\t}\n\n\t\tfacade.UNSENT = 0;\n\t\tfacade.OPENED = 1;\n\t\tfacade.HEADERS_RECEIVED = 2;\n\t\tfacade.LOADING = 3;\n\t\tfacade.DONE = 4;\n\n\t\t// fill in default values for an empty XHR object according to the spec\n\t\tfacade.response = \"\";\n\t\tfacade.responseText = \"\";\n\t\tfacade.responseXML = null;\n\t\tfacade.readyState = 0;\n\t\tfacade.statusText = \"\";\n\n\t\treturn facade;\n\t};\n\n\tXhook$1.UNSENT = 0;\n\tXhook$1.OPENED = 1;\n\tXhook$1.HEADERS_RECEIVED = 2;\n\tXhook$1.LOADING = 3;\n\tXhook$1.DONE = 4;\n\n\t//patch interface\n\tvar XMLHttpRequest = {\n\t\tpatch() {\n\t\t\tif (Native$1) {\n\t\t\t\twindowRef.XMLHttpRequest = Xhook$1;\n\t\t\t}\n\t\t},\n\t\tunpatch() {\n\t\t\tif (Native$1) {\n\t\t\t\twindowRef.XMLHttpRequest = Native$1;\n\t\t\t}\n\t\t},\n\t\tNative: Native$1,\n\t\tXhook: Xhook$1,\n\t};\n\n\t/******************************************************************************\n  Copyright (c) Microsoft Corporation.\n\n  Permission to use, copy, modify, and/or distribute this software for any\n  purpose with or without fee is hereby granted.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n  PERFORMANCE OF THIS SOFTWARE.\n  ***************************************************************************** */\n\n\tfunction __rest(s, e) {\n\t\tvar t = {};\n\t\tfor (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\t\tif (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n\t\t\tfor (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n\t\t\t\tif (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n\t\t\t}\n\t\treturn t;\n\t}\n\n\tfunction __awaiter(thisArg, _arguments, P, generator) {\n\t\tfunction adopt(value) {\n\t\t\treturn value instanceof P\n\t\t\t\t? value\n\t\t\t\t: new P(function (resolve) {\n\t\t\t\t\t\tresolve(value);\n\t\t\t\t\t});\n\t\t}\n\t\treturn new (P || (P = Promise))(function (resolve, reject) {\n\t\t\tfunction fulfilled(value) {\n\t\t\t\ttry {\n\t\t\t\t\tstep(generator.next(value));\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfunction rejected(value) {\n\t\t\t\ttry {\n\t\t\t\t\tstep(generator[\"throw\"](value));\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfunction step(result) {\n\t\t\t\tresult.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n\t\t\t}\n\t\t\tstep((generator = generator.apply(thisArg, _arguments || [])).next());\n\t\t});\n\t}\n\n\t//browser's fetch\n\tconst Native = windowRef.fetch;\n\tfunction copyToObjFromRequest(req) {\n\t\tconst copyedKeys = [\n\t\t\t\"method\",\n\t\t\t\"headers\",\n\t\t\t\"body\",\n\t\t\t\"mode\",\n\t\t\t\"credentials\",\n\t\t\t\"cache\",\n\t\t\t\"redirect\",\n\t\t\t\"referrer\",\n\t\t\t\"referrerPolicy\",\n\t\t\t\"integrity\",\n\t\t\t\"keepalive\",\n\t\t\t\"signal\",\n\t\t\t\"url\",\n\t\t];\n\t\tlet copyedObj = {};\n\t\tcopyedKeys.forEach((key) => (copyedObj[key] = req[key]));\n\t\treturn copyedObj;\n\t}\n\tfunction covertHeaderToPlainObj(headers) {\n\t\tif (headers instanceof Headers) {\n\t\t\treturn covertTDAarryToObj([...headers.entries()]);\n\t\t}\n\t\tif (Array.isArray(headers)) {\n\t\t\treturn covertTDAarryToObj(headers);\n\t\t}\n\t\treturn headers;\n\t}\n\tfunction covertTDAarryToObj(input) {\n\t\treturn input.reduce((prev, [key, value]) => {\n\t\t\tprev[key] = value;\n\t\t\treturn prev;\n\t\t}, {});\n\t}\n\t/**\n\t * if fetch(hacked by Xhook) accept a Request as a first parameter, it will be destrcuted to a plain object.\n\t * Finally the whole network request was convert to fectch(Request.url, other options)\n\t */\n\tconst Xhook = function (input, init = { headers: {} }) {\n\t\tlet options = Object.assign(Object.assign({}, init), { isFetch: true });\n\t\tif (input instanceof Request) {\n\t\t\tconst requestObj = copyToObjFromRequest(input);\n\t\t\tconst prevHeaders = Object.assign(\n\t\t\t\tObject.assign({}, covertHeaderToPlainObj(requestObj.headers)),\n\t\t\t\tcovertHeaderToPlainObj(options.headers),\n\t\t\t);\n\t\t\toptions = Object.assign(Object.assign(Object.assign({}, requestObj), init), {\n\t\t\t\theaders: prevHeaders,\n\t\t\t\tacceptedRequest: true,\n\t\t\t\t//The new code belongs to vite-plugin-fake-server\n\t\t\t\tisFetch: true,\n\t\t\t});\n\t\t} else {\n\t\t\toptions.url = input;\n\t\t}\n\t\tconst beforeHooks = hooks.listeners(\"before\");\n\t\tconst afterHooks = hooks.listeners(\"after\");\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tlet fullfiled = resolve;\n\t\t\tconst processAfter = function (response) {\n\t\t\t\tif (!afterHooks.length) {\n\t\t\t\t\treturn fullfiled(response);\n\t\t\t\t}\n\t\t\t\tconst hook = afterHooks.shift();\n\t\t\t\tif (hook.length === 2) {\n\t\t\t\t\thook(options, response);\n\t\t\t\t\treturn processAfter(response);\n\t\t\t\t} else if (hook.length === 3) {\n\t\t\t\t\treturn hook(options, response, processAfter);\n\t\t\t\t} else {\n\t\t\t\t\treturn processAfter(response);\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst done = function (userResponse) {\n\t\t\t\tif (userResponse !== undefined) {\n\t\t\t\t\tconst response = new Response(userResponse.body || userResponse.text, userResponse);\n\t\t\t\t\t//The new code belongs to vite-plugin-fake-server\n\t\t\t\t\tObject.defineProperty(response, \"url\", {\n\t\t\t\t\t\tvalue: isLink(options.url) ? options.url : new URL(location.href).origin + options.url,\n\t\t\t\t\t});\n\t\t\t\t\tresolve(response);\n\t\t\t\t\tprocessAfter(response);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//continue processing until no hooks left\n\t\t\t\tprocessBefore();\n\t\t\t};\n\t\t\tconst processBefore = function () {\n\t\t\t\tif (!beforeHooks.length) {\n\t\t\t\t\tsend();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst hook = beforeHooks.shift();\n\t\t\t\tif (hook.length === 1) {\n\t\t\t\t\treturn done(hook(options));\n\t\t\t\t} else if (hook.length === 2) {\n\t\t\t\t\treturn hook(options, done);\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst send = () =>\n\t\t\t\t__awaiter(this, void 0, void 0, function* () {\n\t\t\t\t\tconst { url, isFetch, acceptedRequest } = options,\n\t\t\t\t\t\trestInit = __rest(options, [\"url\", \"isFetch\", \"acceptedRequest\"]);\n\t\t\t\t\tif (input instanceof Request && restInit.body instanceof ReadableStream) {\n\t\t\t\t\t\trestInit.body = yield new Response(restInit.body).text();\n\t\t\t\t\t}\n\t\t\t\t\treturn Native(url, restInit)\n\t\t\t\t\t\t.then((response) => processAfter(response))\n\t\t\t\t\t\t.catch(function (err) {\n\t\t\t\t\t\t\tfullfiled = reject;\n\t\t\t\t\t\t\tprocessAfter(err);\n\t\t\t\t\t\t\treturn reject(err);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tprocessBefore();\n\t\t});\n\t};\n\t//patch interface\n\tvar fetch = {\n\t\tpatch() {\n\t\t\tif (Native) {\n\t\t\t\twindowRef.fetch = Xhook;\n\t\t\t}\n\t\t},\n\t\tunpatch() {\n\t\t\tif (Native) {\n\t\t\t\twindowRef.fetch = Native;\n\t\t\t}\n\t\t},\n\t\tNative,\n\t\tXhook,\n\t};\n\n\t//the global hooks event emitter is also the global xhook object\n\t//(not the best decision in hindsight)\n\tconst xhook = hooks;\n\txhook.EventEmitter = EventEmitter;\n\t//modify hooks\n\txhook.before = function (handler, i) {\n\t\tif (handler.length < 1 || handler.length > 2) {\n\t\t\tthrow \"invalid hook\";\n\t\t}\n\t\treturn xhook.on(\"before\", handler, i);\n\t};\n\txhook.after = function (handler, i) {\n\t\tif (handler.length < 2 || handler.length > 3) {\n\t\t\tthrow \"invalid hook\";\n\t\t}\n\t\treturn xhook.on(\"after\", handler, i);\n\t};\n\n\t//globally enable/disable\n\txhook.enable = function () {\n\t\tXMLHttpRequest.patch();\n\t\tfetch.patch();\n\t};\n\txhook.disable = function () {\n\t\tXMLHttpRequest.unpatch();\n\t\tfetch.unpatch();\n\t};\n\t//expose native objects\n\txhook.XMLHttpRequest = XMLHttpRequest.Native;\n\txhook.fetch = fetch.Native;\n\n\t//expose helpers\n\txhook.headers = headers.convert;\n\n\t//enable by default\n\txhook.enable();\n\n\treturn xhook;\n};window.__VITE__PLUGIN__FAKE__SERVER__.xhook=xhook();","const fakeModuleList = window.__VITE__PLUGIN__FAKE__SERVER__.fakeModuleList;\n\t\t\t\t\tconst { pathToRegexp, match } = window.__VITE__PLUGIN__FAKE__SERVER__.pathToRegexp;\n\t\t\t\t\twindow.__VITE__PLUGIN__FAKE__SERVER__.xhook.before(async function(req, callback) {\n\t\t\t\t\t\tfunction sleep(time) {\n\treturn new Promise((resolve) => {\n\t\tconst timer = setTimeout(() => {\n\t\t\tresolve(timer);\n\t\t\tclearTimeout(timer);\n\t\t}, time);\n\t});\n}\n\t\t\t\t\t\tfunction tryToJSON(str) {\n\tlet result = \"\";\n\ttry {\n\t\tresult = JSON.parse(str);\n\t} catch (err) {\n\t\tresult = str;\n\t}\n\treturn result;\n}\n\t\t\t\t\t\tasync function getResponse({\n\tURL,\n\treq,\n\tfakeModuleList,\n\tpathToRegexp,\n\tmatch,\n\tbasename,\n\tdefaultTimeout,\n\tglobalResponseHeaders,\n}) {\n\t/**\n\t * Join two paths into a complete path\n\t */\n\tfunction joinPathname(a, b) {\n\t\tconst aPathname = new URL(a, \"http://localhost:5173/\").pathname;\n\t\tconst bPathname = new URL(b, \"http://localhost:5173/\").pathname;\n\t\treturn aPathname.endsWith(\"/\") ? aPathname.slice(0, -1) + bPathname : aPathname + bPathname;\n\t}\n\n\tif (req.url) {\n\t\tconst instanceURL = new URL(req.url, \"http://localhost:5173/\");\n\n\t\t// https://nodejs.org/api/url.html#urlpathname\n\t\t// Invalid URL characters included in the value assigned to the pathname property are percent-encoded\n\t\tconst pathname = instanceURL.pathname;\n\n\t\tconst matchRequest = fakeModuleList.find((item) => {\n\t\t\tif (!pathname || !item || !item.url) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst method = item.method ?? \"GET\";\n\t\t\tconst reqMethod = req.method ?? \"GET\";\n\t\t\tif (method.toUpperCase() !== reqMethod.toUpperCase()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst realURL = joinPathname(basename, item.url);\n\t\t\treturn pathToRegexp(realURL).test(pathname);\n\t\t});\n\t\tif (matchRequest) {\n\t\t\tconst {\n\t\t\t\tresponse,\n\t\t\t\trawResponse,\n\t\t\t\ttimeout = defaultTimeout,\n\t\t\t\tstatusCode,\n\t\t\t\tstatusText,\n\t\t\t\turl,\n\t\t\t\theaders: responseHeaders = {},\n\t\t\t} = matchRequest;\n\n\t\t\tif (timeout) {\n\t\t\t\tawait sleep(timeout);\n\t\t\t}\n\n\t\t\tconst joinedUrl = joinPathname(basename, url);\n\t\t\tconst urlMatch = match(joinedUrl, { encode: encodeURI });\n\n\t\t\tconst searchParams = instanceURL.searchParams;\n\t\t\tconst query = {};\n\t\t\tfor (const [key, value] of searchParams.entries()) {\n\t\t\t\tif (query.hasOwnProperty(key)) {\n\t\t\t\t\tconst queryValue = query[key];\n\t\t\t\t\tif (Array.isArray(queryValue)) {\n\t\t\t\t\t\tqueryValue.push(value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tquery[key] = [queryValue, value];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tquery[key] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet params = {};\n\n\t\t\tif (pathname) {\n\t\t\t\tconst matchParams = urlMatch(pathname);\n\t\t\t\tif (matchParams) {\n\t\t\t\t\tparams = matchParams.params;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tresponse,\n\t\t\t\trawResponse,\n\t\t\t\ttimeout,\n\t\t\t\tstatusCode: statusCode ?? 200,\n\t\t\t\tstatusText,\n\t\t\t\turl: req.url,\n\t\t\t\tquery,\n\t\t\t\tparams,\n\t\t\t\tresponseHeaders: new Headers({ ...globalResponseHeaders, ...responseHeaders }),\n\t\t\t};\n\t\t}\n\t}\n}\n\t\t\t\t\t\tconst STATUS_CODES = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"103\": \"Early Hints\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a Teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Too Early\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n};\n\n\t\t\t\t\t\tfunction headersToObject(headers) {\n\t\t\t\t\t\t\tconst headersObject = {};\n\t\t\t\t\t\t\tfor (const [name, value] of headers.entries()) {\n\t\t\t\t\t\t\t\theadersObject[name] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn headersObject;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst responseResult = await getResponse({\n\t\t\t\t\t\t\tURL,\n\t\t\t\t\t\t\treq,\n\t\t\t\t\t\t\tfakeModuleList,\n\t\t\t\t\t\t\tpathToRegexp,\n\t\t\t\t\t\t\tmatch,\n\t\t\t\t\t\t\tbasename: \"/prod-api\",\n\t\t\t\t\t\t\tdefaultTimeout: 1000,\n\t\t\t\t\t\t\tglobalResponseHeaders: {}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (responseResult) {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\tresponse,\n\t\t\t\t\t\t\t\tstatusCode,\n\t\t\t\t\t\t\t\tstatusText: responseStatusText = STATUS_CODES[statusCode],\n\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\tquery,\n\t\t\t\t\t\t\t\tparams,\n\t\t\t\t\t\t\t\tresponseHeaders,\n\t\t\t\t\t\t\t} = responseResult ?? {};\n\t\t\t\t\t\t\tconst statusText = true ? \"\" : responseStatusText;\n\t\t\t\t\t\t\tconst responseIsFunction = typeof response === \"function\";\n\t\t\t\t\t\t\tconst requestHeaders = {};\n\t\t\t\t\t\t\tfor (const key in req.headers) {\n\t\t\t\t\t\t\t\trequestHeaders[key.toLowerCase()] = req.headers[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst fakeResponse = !responseIsFunction || await Promise.resolve(\n\t\t\t\t\t\t\t\tresponse({ url, body: tryToJSON(req.body), rawBody: req.body, query, params, headers: requestHeaders })\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif(req.isFetch) {\n\t\t\t\t\t\t\t\tif (typeof fakeResponse === \"string\") {\n\t\t\t\t\t\t\t\t\tif (!responseHeaders.get(\"Content-Type\")) {\n\t\t\t\t\t\t\t\t\t\tresponseHeaders.set(\"Content-Type\", \"text/plain\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcallback(new Response(\n\t\t\t\t\t\t\t\t\t\tresponseIsFunction ? fakeResponse : null,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tstatusText,\n\t\t\t\t\t\t\t\t\t\t\tstatus: statusCode,\n\t\t\t\t\t\t\t\t\t\t\theaders: headersToObject(responseHeaders),\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (!responseHeaders.get(\"Content-Type\")) {\n\t\t\t\t\t\t\t\t\t\tresponseHeaders.set(\"Content-Type\", \"application/json\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcallback(new Response(\n\t\t\t\t\t\t\t\t\t\tresponseIsFunction ? JSON.stringify(fakeResponse, null, 2) : null,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tstatusText,\n\t\t\t\t\t\t\t\t\t\t\tstatus: statusCode,\n\t\t\t\t\t\t\t\t\t\t\theaders: headersToObject(responseHeaders),\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst dataResponse = responseIsFunction ? { data: fakeResponse } : {};\n\t\t\t\t\t\t\t\tif(!req.type || req.type.toLowerCase() === \"text\") {\n\t\t\t\t\t\t\t\t\tif (!responseHeaders.get(\"Content-Type\")) {\n\t\t\t\t\t\t\t\t\t\tresponseHeaders.set(\"Content-Type\", \"text/plain\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcallback({\n\t\t\t\t\t\t\t\t\t\tstatusText,\n\t\t\t\t\t\t\t\t\t\tstatus: statusCode,\n\t\t\t\t\t\t\t\t\t\ttext: fakeResponse,\n\t\t\t\t\t\t\t\t\t\t...dataResponse,\n\t\t\t\t\t\t\t\t\t\theaders: headersToObject(responseHeaders),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else if (req.type.toLowerCase() === \"json\") {\n\t\t\t\t\t\t\t\t\tif (!responseHeaders.get(\"Content-Type\")) {\n\t\t\t\t\t\t\t\t\t\tresponseHeaders.set(\"Content-Type\", \"application/json\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcallback({\n\t\t\t\t\t\t\t\t\t\tstatusText,\n\t\t\t\t\t\t\t\t\t\tstatus: statusCode,\n\t\t\t\t\t\t\t\t\t\t...dataResponse,\n\t\t\t\t\t\t\t\t\t\theaders: headersToObject(responseHeaders),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else if (req.type.toLowerCase() === \"document\") {\n\t\t\t\t\t\t\t\t\tif (!responseHeaders.get(\"Content-Type\")) {\n\t\t\t\t\t\t\t\t\t\tresponseHeaders.set(\"Content-Type\", \"application/xml\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\t\t\t\tconst xmlDoc = parser.parseFromString(fakeResponse,\"application/xml\");\n\t\t\t\t\t\t\t\t\tcallback({\n\t\t\t\t\t\t\t\t\t\tstatusText,\n\t\t\t\t\t\t\t\t\t\tstatus: statusCode,\n\t\t\t\t\t\t\t\t\t\txml: xmlDoc,\n\t\t\t\t\t\t\t\t\t\tdata: xmlDoc,\n\t\t\t\t\t\t\t\t\t\theaders: headersToObject(responseHeaders),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType\n\t\t\t\t\t\t\t\t\t// \"arraybuffer\" | \"blob\"\n\t\t\t\t\t\t\t\t\tcallback({\n\t\t\t\t\t\t\t\t\t\tstatusText,\n\t\t\t\t\t\t\t\t\t\tstatus: statusCode,\n\t\t\t\t\t\t\t\t\t\t...dataResponse,\n\t\t\t\t\t\t\t\t\t\theaders: headersToObject(responseHeaders),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (true){\n\t\t\t\t\t\t\t\tconst requestMethod = req.method ? req.method.toUpperCase() : \"GET\";\n\t\t\t\t\t\t\t\tconsole.log(\"%c request invoke\" + \" %c\" + requestMethod + \" \" + req.url, \"color: green\", \"color: blue\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// next external URL\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t});","<template>\n  <div id=\"app\">\n    <Toast />\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n","import PrimeVue from 'primevue2/config'\nimport Button from 'primevue2/button'\nimport BadgeDirective from 'primevue2/badgedirective'\nimport Ripple from 'primevue2/ripple'\nimport StyleClass from 'primevue2/styleclass'\nimport Tooltip from 'primevue2/tooltip'\nimport ToastService from 'primevue2/toastservice'\nimport ConfirmationService from 'primevue2/confirmationservice'\n\nexport default {\n  install(Vue, opts = {}) {\n    const { locale, inputStyle = false, ripple = false } = opts\n    // this.$primevue\n    Vue.use(PrimeVue, { locale, ripple, inputStyle })\n    // this.$toast\n    Vue.use(ToastService)\n    // this.$confirm\n    Vue.use(ConfirmationService)\n\n    Vue.directive('badge', BadgeDirective)\n    Vue.directive('tooltip', Tooltip)\n    Vue.directive('ripple', Ripple)\n    Vue.directive('styleclass', StyleClass)\n\n    // eslint-disable-next-line vue/no-reserved-component-names\n    Vue.component('Button', Button)\n\n    // unplugin-primevue2-resolver 中按需引用\n    // for (const key in componentObj) {\n    //   Vue.component(key, componentObj[key])\n    // }\n  }\n}\n","import router from './router'\nimport store from './store'\nimport NProgress from 'nprogress' // progress bar\nimport 'nprogress/nprogress.css' // progress bar style\nimport { getToken } from '@/utils/auth' // get token from cookie\nimport getPageTitle from '@/utils/get-page-title'\nimport Vue from 'vue'\n\nNProgress.configure({ showSpinner: false }) // NProgress Configuration\n\nconst whiteList = ['/login', '/auth-redirect'] // no redirect whitelist\n\nrouter.beforeEach(async(to, from, next) => {\n  // start progress bar\n  NProgress.start()\n\n  // set page title\n  document.title = getPageTitle(to.meta.title)\n\n  // determine whether the user has logged in\n  const hasToken = getToken()\n  if (hasToken) {\n    if (to.path === '/login') {\n      // if is logged in, redirect to the home page\n      next({ path: '/' })\n      NProgress.done() // hack: https://github.com/PanJiaChen/vue-element-admin/pull/2939\n    } else {\n      // determine whether the user has obtained his permission roles through getInfo\n      const hasRoles = store.getters.roles && store.getters.roles.length > 0\n      if (hasRoles) {\n        next()\n      } else {\n        try {\n          // get user info\n          // note: roles must be a object array! such as: ['admin'] or ,['developer','editor']\n          const { roles } = await store.dispatch('user/getInfo')\n\n          // generate accessible routes map based on roles\n          const accessRoutes = await store.dispatch('permission/generateRoutes', roles)\n\n          // dynamically add accessible routes\n          accessRoutes.forEach(item => {\n            router.addRoute(item)\n          })\n\n          // hack method to ensure that addRoutes is complete\n          // set the replace: true, so the navigation will not leave a history record\n          next({ ...to, replace: true })\n        } catch (error) {\n          // remove token and go to login page to re-login\n          await store.dispatch('user/resetToken')\n          Vue.prototype.$toast.add({ severity: 'error', summary: '错误信息', detail: error || '内部错误！', life: 5000 })\n          next(`/login?redirect=${to.path}`)\n          NProgress.done()\n        }\n      }\n    }\n  } else {\n    /* has no token*/\n\n    if (whiteList.indexOf(to.path) !== -1) {\n      // in the free login whitelist, go directly\n      next()\n    } else {\n      // other pages that do not have permission to access are redirected to the login page.\n      next(`/login?redirect=${to.path}`)\n      NProgress.done()\n    }\n  }\n})\n\nrouter.afterEach(() => {\n  // finish progress bar\n  NProgress.done()\n})\n","import './utils/polyfill'\n\nimport Vue from 'vue'\nimport App from './App.vue'\nimport router from './router/index'\nimport store from './store/index'\n\nimport primevue from './plugins/primevue'\nimport './permission'\nimport './utils/error-log'\nimport './utils/vee-validate'\nimport { getPublicUrl } from './utils'\n\nVue.config.productionTip = false\n// template中的引用public的资源打包时不会追加公共基础路径base\nVue.prototype.$publicUrl = getPublicUrl\n\nVue.use(primevue, store.state.settings)\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n"],"names":["console","warn","window","__VITE__PLUGIN__FAKE__SERVER__","meta","name","version","type","license","author","description","exports","require","import","main","module","types","typesVersions","files","keywords","repository","url","directory","bugs","homepage","scripts","prepublishOnly","test","dev","build","typecheck","dependencies","chokidar","picocolors","devDependencies","vite","publishConfig","access","registry","vitePluginFakeServerOptions","include","exclude","infixName","extensions","enableProd","enableDev","watch","logger","timeout","basename","headers","http2","modules","Object","assign","__vite_glob_0_0","__vite_glob_0_1","__vite_glob_0_2","__vite_glob_0_3","__vite_glob_0_4","__vite_glob_0_5","__vite_glob_0_6","__vite_glob_0_7","fakeModuleList","keys","reduce","list","key","_modules$key","default","_i2","_Object$keys","length","_modules$key$moduleKe","moduleKey","mod","modList","Array","isArray","_toConsumableArray","concat","parse","str","options","tokens","i","char","push","index","value","count","pattern","j","TypeError","code","charCodeAt","lexer","_a","prefixes","defaultPattern","escapeString","delimiter","result","path","tryConsume","mustConsume","undefined","nextType","consumeText","prefix","indexOf","suffix","modifier","name_1","pattern_1","replace","flags","sensitive","stringToRegexp","strict","_b","start","_c","end","_d","encode","x","_e","_f","endsWith","endsWithRe","delimiterRe","route","_i","tokens_1","token","endToken","isEndDelimited","RegExp","tokensToRegexp","pathToRegexp","groupsRegex","execResult","exec","source","regexpToRegexp","paths","parts","map","join","arrayToRegexp","xhook","isLink","linkHref","URL","_unused","slice","o","n","prototype","call","WorkerGlobalScope","self","global","windowRef","documentRef","document","UPLOAD_EVENTS","COMMON_EVENTS","depricatedProp","p","includes","mergeObjects","src","dst","k","v","error","proxyEvents","events","event","e","clone","val","dispatchEvent","_i3","_Array$from","from","_has","EventEmitter","nodeStyle","listeners","emitter","callback","splice","args","arguments","shift","createEventObject","msieEventObject","Event","fakeEvent","defineProperty","writable","this","legacylistener","apply","iterable","on","addEventListener","off","removeEventListener","fire","once","fn","destroy","dest","_typeof","headersObj","entries","_ref","_ref2","_slicedToArray","toLowerCase","headersString","_step4","_iterator4","_createForOfIteratorHelper","split","s","done","header","$1","$2","err","f","stringToObject","hooks","nullify","res","Native$1","XMLHttpRequest","Xhook$1","xhr","request","status","hasError","transiting","response","currentState","readHead","statusText","object","getAllResponseHeaders","writeHead","facade","writeBody","responseText","text","responseXML","xml","data","_response$headers","defaultResponseBody","json","blob","Blob","Headers","get","arraybuffer","ArrayBuffer","responseType","_response$responseURL","responseURL","location","href","origin","emitFinal","readyState","emitReadyState","async","setTimeout","setReadyState","afterHooks","process","hook","onreadystatechange","readBody","hasErrorHandler","withCredentials","_i4","_Array$from2","open","method","user","pass","headerNames","send","body","modk","_i5","_arr","beforeHooks","upload","_i6","_arr2","setRequestHeader","userResponse","head","progress","abort","lName","getResponseHeader","overrideMimeType","up","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","patch","unpatch","Native","Xhook","__rest","t","hasOwnProperty","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","then","fetch","covertHeaderToPlainObj","covertTDAarryToObj","input","prev","_ref3","_ref4","req","copyedObj","init","isFetch","Request","requestObj","forEach","prevHeaders","acceptedRequest","_this","fullfiled","processAfter","Response","processBefore","_regeneratorRuntime","mark","_callee","_options","restInit","wrap","_callee$","_context","ReadableStream","sent","abrupt","catch","stop","before","handler","after","enable","disable","match","re","decode","pathname","m","params","create","_loop_1","regexpToFunction","_window$__VITE__PLUGI","_ref5","_asyncToGenerator","_callee3","sleep","tryToJSON","getResponse","_getResponse","STATUS_CODES","headersToObject","responseResult","_ref7","statusCode","_ref7$statusText","query","responseHeaders","responseIsFunction","requestHeaders","fakeResponse","dataResponse","parser","xmlDoc","requestMethod","_context3","_step5","headersObject","_iterator5","_step5$value","_callee2","_ref6","defaultTimeout","globalResponseHeaders","joinPathname","instanceURL","matchRequest","_response","rawResponse","_matchRequest$timeout","_statusCode","_statusText","_url","_matchRequest$headers","_responseHeaders","joinedUrl","urlMatch","searchParams","_query","_iterator6","_step6","_step6$value","_key","queryValue","_params","matchParams","_callee2$","_context2","_joinPathname","a","b","aPathname","bPathname","find","item","_item$method","_req$method","reqMethod","toUpperCase","realURL","encodeURI","_objectSpread","_x3","JSON","_sleep","time","timer","clearTimeout","t0","rawBody","set","stringify","DOMParser","parseFromString","log","_x","_x2","primevue","install","Vue","opts","locale","_opts$inputStyle","inputStyle","_opts$ripple","ripple","use","PrimeVue","ToastService","ConfirmationService","directive","BadgeDirective","Tooltip","Ripple","StyleClass","component","Button","NProgress","configure","showSpinner","whiteList","router","beforeEach","_ref8","_callee4","to","_yield$store$dispatch","roles","_context4","title","getPageTitle","getToken","hasRoles","store","getters","dispatch","accessRoutes","addRoute","$toast","add","severity","summary","detail","life","_x4","_x5","_x6","afterEach","config","productionTip","$publicUrl","getPublicUrl","state","settings","render","h","App","$mount"],"mappings":"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"}