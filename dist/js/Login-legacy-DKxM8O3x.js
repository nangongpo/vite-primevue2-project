System.register(["./primevue2-legacy-CstrOyJM.js","./app.core-legacy-4IoIb6Gd.js","./app.component-legacy-BIUfPD9B.js","./@nangongpo-legacy-DNMPug1-.js","./whatwg-fetch-legacy-CCzU3kzf.js","./resize-observer-polyfill-legacy-0iJwNYH9.js","./prismjs-legacy-hFI0QxJU.js"],(function(t,e){"use strict";var s,r,n,a,i,o,l;return{setters:[function(t){s=t.f},function(t){r=t.i,n=t.j,a=t.b},function(t){i=t.n,o=t.L,l=t.c},null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent="",document.head.appendChild(e);var c=a,u=c.isNavigationFailure,d=c.NavigationFailureType;t("default",i({name:"Login",components:{Logo:o,ValidationObserver:r,ValidationProvider:n},data:function(){return this.settings=l,{loginForm:{username:"admin",password:"111111"},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(t){var e=t.query;e&&(this.redirect=e.redirect,this.otherQuery=this.getOtherQuery(e))},immediate:!0}},created:function(){},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},unmounted:function(){},methods:{checkCapslock:function(t){var e=t.key;this.capsTooltip=e&&1===e.length&&e>="A"&&e<="Z"},showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs.password.focus()}))},handleLogin:function(){var t=this;this.loading=!0,this.$store.dispatch("user/login",this.loginForm).then((function(){t.$router.push({path:t.redirect||"/",query:t.otherQuery}).catch((function(t){u(t,d.redirected)||Promise.reject(t)})),t.loading=!1})).catch((function(){t.loading=!1}))},getOtherQuery:function(t){return Object.keys(t).reduce((function(e,s){return"redirect"!==s&&(e[s]=t[s]),e}),{})}}},(function(){var t=this,e=t._self._c;return e("body",{staticClass:"login-body"},[e("div",{staticClass:"mobile-banner"},[e("Logo",{staticStyle:{height:"48px"},attrs:{label:""}})],1),e("div",{staticClass:"login-panel"},[e("Logo",{staticStyle:{height:"48px"},attrs:{label:""}})],1),e("div",{staticClass:"login-card"},[e("div",{staticClass:"top-border"}),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(r){var n=r.handleSubmit;return[e("form",{staticClass:"login-content",on:{submit:function(e){return e.preventDefault(),n(t.handleLogin)}}},[e("h1",[t._v("登录")]),e("p",[t._v("欢迎使用"+t._s(t.settings.title)+"系统")]),e("ValidationProvider",{staticClass:"username-container",attrs:{tag:"div",rules:"required",name:"loginForm.username"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("label",[t._v("用户名")]),e("div",{staticClass:"login-input"},[e(s,{attrs:{placeholder:"请输入用户名"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}}),e("small",{staticClass:"p-invalid"},[t._v(t._s(n[0]))])],1)]}}],null,!0)}),e("ValidationProvider",{staticClass:"password-container",attrs:{tag:"div",rules:"required",name:"loginForm.password"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("label",[t._v("密码")]),e("div",{staticClass:"login-input"},[e(s,{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),e("small",{staticClass:"p-invalid"},[t._v(t._s(n[0]))])],1)]}}],null,!0)}),e("div",{staticClass:"forgetpassword-container"},[e("a",{staticClass:"forget-password",attrs:{href:"#"}},[t._v("忘记密码?")])]),e("div",[e("Button",{attrs:{type:"submit",label:"登录"}})],1)],1)]}}])})],1)])}),[],!1,null,"c6410f0a",null,null).exports)}}}));
//# sourceMappingURL=Login-legacy-DKxM8O3x.js.map
